{"version":3,"file":"chunk/components/CandidateListBox.bundle.js?v=8250ae73cc1a03b7d34f","mappings":"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","sources":["webpack:///./components/CandidateListBox/main.vue","webpack:///components/CandidateListBox/main.vue","webpack:///./components/CandidateListBox/main.vue?35e5","webpack:///./components/CandidateListBox/main.vue?72c5"],"sourcesContent":["var render = function render() {\n  var _vm = this,\n    _c = _vm._self._c\n  return _c(\n    \"div\",\n    {\n      ref: \"box\",\n      staticClass: \"modal\",\n      attrs: { id: \"CandidateListBox\", tabindex: \"-1\", role: \"dialog\" },\n    },\n    [\n      _c(\"div\", { staticClass: \"modal-dialog\", attrs: { role: \"document\" } }, [\n        _c(\"div\", { staticClass: \"modal-content\" }, [\n          _c(\"div\", { staticClass: \"modal-header\" }, [\n            _c(\"h5\", { staticClass: \"modal-title\" }, [\n              _c(\"i\", { staticClass: \"fas fa-user-edit\" }),\n              _vm._v(\n                \"\\n                    編輯名單 [\" +\n                  _vm._s(_vm.candidateListFormat.length) +\n                  \"]\\n                \"\n              ),\n            ]),\n            _vm._v(\" \"),\n            _vm._m(0),\n          ]),\n          _vm._v(\" \"),\n          _c(\n            \"div\",\n            { staticClass: \"modal-body\", staticStyle: { height: \"60vh\" } },\n            [\n              _c(\n                \"div\",\n                {\n                  staticClass: \"form-group\",\n                  staticStyle: {\n                    display: \"flex\",\n                    \"align-items\": \"stretch\",\n                    \"flex-direction\": \"column\",\n                    height: \"100%\",\n                  },\n                },\n                [\n                  _c(\n                    \"div\",\n                    {\n                      staticClass: \"alert alert-primary\",\n                      staticStyle: { flex: \"none\" },\n                      attrs: { role: \"alert\" },\n                    },\n                    [\n                      _vm._v(\n                        \"\\n                        請一行一行條列輸入候選名單\\n                    \"\n                      ),\n                    ]\n                  ),\n                  _vm._v(\" \"),\n                  _c(\"textarea\", {\n                    directives: [\n                      {\n                        name: \"model\",\n                        rawName: \"v-model\",\n                        value: _vm.candidateListTextarea,\n                        expression: \"candidateListTextarea\",\n                      },\n                    ],\n                    staticClass: \"form-control\",\n                    staticStyle: { flex: \"1\" },\n                    attrs: {\n                      name: \"candidateListTextarea\",\n                      placeholder: \"姓名,職位\",\n                    },\n                    domProps: { value: _vm.candidateListTextarea },\n                    on: {\n                      input: function ($event) {\n                        if ($event.target.composing) return\n                        _vm.candidateListTextarea = $event.target.value\n                      },\n                    },\n                  }),\n                ]\n              ),\n            ]\n          ),\n          _vm._v(\" \"),\n          _c(\"div\", { staticClass: \"modal-footer\" }, [\n            _c(\"div\", { staticClass: \"col-6 text-left\" }, [\n              _c(\n                \"button\",\n                {\n                  staticClass: \"btn btn-warning\",\n                  attrs: { type: \"button\" },\n                  on: { click: _vm.randomSort },\n                },\n                [\n                  _vm._v(\n                    \"\\n                        打亂排序\\n                    \"\n                  ),\n                ]\n              ),\n            ]),\n            _vm._v(\" \"),\n            _c(\"div\", { staticClass: \"col-6 text-right\" }, [\n              _c(\n                \"button\",\n                {\n                  staticClass: \"btn btn-secondary\",\n                  attrs: { type: \"button\", \"data-dismiss\": \"modal\" },\n                },\n                [_vm._v(\"\\n                        取消\\n                    \")]\n              ),\n              _vm._v(\" \"),\n              _c(\n                \"button\",\n                {\n                  staticClass: \"btn btn-primary\",\n                  attrs: { type: \"button\" },\n                  on: { click: _vm.save },\n                },\n                [_vm._v(\"\\n                        儲存\\n                    \")]\n              ),\n            ]),\n          ]),\n        ]),\n      ]),\n    ]\n  )\n}\nvar staticRenderFns = [\n  function () {\n    var _vm = this,\n      _c = _vm._self._c\n    return _c(\n      \"button\",\n      {\n        staticClass: \"close\",\n        attrs: {\n          type: \"button\",\n          \"data-dismiss\": \"modal\",\n          \"aria-label\": \"Close\",\n        },\n      },\n      [_c(\"span\", { attrs: { \"aria-hidden\": \"true\" } }, [_vm._v(\"×\")])]\n    )\n  },\n]\nrender._withStripped = true\n\nexport { render, staticRenderFns }","<template>\n    <div id=\"CandidateListBox\" ref=\"box\" class=\"modal\" tabindex=\"-1\"\n        role=\"dialog\"\n    >\n        <div class=\"modal-dialog\" role=\"document\">\n            <div class=\"modal-content\">\n                <div class=\"modal-header\">\n                    <h5 class=\"modal-title\">\n                        <i class=\"fas fa-user-edit\"></i>\n                        編輯名單 [{{ candidateListFormat.length }}]\n                    </h5>\n                    <button type=\"button\" class=\"close\" data-dismiss=\"modal\"\n                        aria-label=\"Close\"\n                    >\n                        <span aria-hidden=\"true\">&times;</span>\n                    </button>\n                </div>\n                <div class=\"modal-body\" style=\"height: 60vh\">\n                    <div class=\"form-group\" style=\"display: flex;align-items: stretch;flex-direction: column;height: 100%\">\n                        <div class=\"alert alert-primary\" role=\"alert\" style=\"flex: none;\">\n                            請一行一行條列輸入候選名單\n                        </div>\n                        <textarea\n                            v-model=\"candidateListTextarea\"\n                            name=\"candidateListTextarea\"\n                            class=\"form-control\"\n                            placeholder=\"姓名,職位\"\n                            style=\"flex: 1\"\n                        ></textarea>\n                    </div>\n                </div>\n                <div class=\"modal-footer\">\n                    <div class=\"col-6 text-left\">\n                        <button type=\"button\" class=\"btn btn-warning\" @click=\"randomSort\">\n                            打亂排序\n                        </button>\n                    </div>\n                    <div class=\"col-6 text-right\">\n                        <button type=\"button\" class=\"btn btn-secondary\" data-dismiss=\"modal\">\n                            取消\n                        </button>\n                        <button type=\"button\" class=\"btn btn-primary\" @click=\"save\">\n                            儲存\n                        </button>\n                    </div>\n                </div>\n            </div>\n        </div>\n    </div>\n</template>\n<script>\nimport { trackJS } from 'lib/common/util';\nimport { mapMutations, mapGetters } from 'vuex';\n\n// import { mixpanel } from 'lib/common/util';\n\n// import $ from 'jquery';\n// import 'bootstrap';\n\n// import 'app';\n// import { string, jsVars, popup, trackJS, localStorage, ppPanel } from 'lib/common/util';\n\nexport default {\n    components: {},\n    filters: {},\n    props: {},\n    data(){\n        return {\n            candidateListTextarea: '',\n        };\n    },\n    computed: {\n        ...mapGetters([\n            'config',\n            'triggerOpenCandidateList',\n            'candidateList',\n            'candidateList_sort',\n        ]),\n        candidateListFormat(){\n            const that = this;\n            const candidateList = JSON.parse(JSON.stringify(that.candidateList));\n            return candidateList.filter((info) => {\n                return info.del === false;\n            });\n        },\n    },\n    watch: {\n        triggerOpenCandidateList: {\n            immediate: true,\n            handler(){\n                const that = this;\n                if (that.triggerOpenCandidateList) {\n                    $(that.$refs.box).modal('show');\n                } else {\n                    $(that.$refs.box).modal('hide');\n                }\n            },\n        },\n    },\n    created(){},\n    mounted(){\n        const that = this;\n        $(that.$refs.box).bind('shown.bs.modal', () => {\n            const candidateList = JSON.parse(JSON.stringify(that.candidateListFormat));\n            let candidateListTextarea = [];\n            candidateList.forEach((info) => {\n                if (info.del === false) {\n                    const data = [];\n                    data.push(info.name);\n                    if (!!info.pos) {\n                        data.push(info.pos);\n                    }\n                    candidateListTextarea.push(data.join(','));\n                }\n            });\n            candidateListTextarea = candidateListTextarea.join('\\n');\n            that.candidateListTextarea = candidateListTextarea;\n            trackJS.mixpanel('CandidateListOpen_click');\n            trackJS.gtag('event', 'CandidateListOpen_click');\n        });\n\n        $(that.$refs.box).bind('hidden.bs.modal', () => {\n            trackJS.mixpanel('CandidateListClose_click');\n            trackJS.gtag('event', 'CandidateListClose_click');\n        });\n\n        if (that.triggerOpenCandidateList) {\n            $(that.$refs.box).modal('show');\n        } else {\n            $(that.$refs.box).modal('hide');\n        }\n    },\n    updated(){},\n    destroyed(){},\n    methods: {\n        ...mapMutations({\n            setCandidateListInput: 'setCandidateListInput',\n            setCandidateListRandomSort: 'setCandidateListRandomSort',\n        }),\n        save(){\n            const that = this;\n            const params = {\n                candidateListInput: JSON.parse(JSON.stringify(that.candidateListTextarea)),\n            };\n            that.setCandidateListInput(params);\n            trackJS.mixpanel('CandidateListSave_click', that.candidateList);\n            trackJS.gtag('event', 'CandidateListSave_click', that.candidateList);\n            $(that.$refs.box).modal('hide');\n        },\n        randomSort(){\n            const that = this;\n            that.setCandidateListRandomSort();\n            trackJS.mixpanel('CandidateListRandom_click', that.candidateList_sort);\n            trackJS.gtag('event', 'CandidateListRandom_click', that.candidateList_sort);\n        },\n    },\n};\n</script>\n<style lang=\"scss\" scoped>\n</style>","import mod from \"-!../../../../node_modules/babel-loader/lib/index.js!../../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./main.vue?vue&type=script&lang=js\"; export default mod; export * from \"-!../../../../node_modules/babel-loader/lib/index.js!../../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./main.vue?vue&type=script&lang=js\"","import { render, staticRenderFns } from \"./main.vue?vue&type=template&id=3c0022a3&scoped=true\"\nimport script from \"./main.vue?vue&type=script&lang=js\"\nexport * from \"./main.vue?vue&type=script&lang=js\"\n\n\n/* normalize component */\nimport normalizer from \"!../../../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  \"3c0022a3\",\n  null\n  \n)\n\nexport default component.exports"],"names":["render","_vm","this","_c","_self","ref","staticClass","attrs","id","tabindex","role","_v","_s","candidateListFormat","length","_m","staticStyle","height","display","flex","directives","name","rawName","value","candidateListTextarea","expression","placeholder","domProps","on","input","$event","target","composing","type","click","randomSort","save","_withStripped","components","filters","props","data","computed","mapGetters","JSON","parse","stringify","candidateList","filter","info","del","watch","triggerOpenCandidateList","immediate","handler","that","$","$refs","box","modal","created","mounted","bind","forEach","push","pos","join","trackJS","mixpanel","gtag","updated","destroyed","methods","mapMutations","setCandidateListInput","setCandidateListRandomSort","params","candidateListInput","candidateList_sort"],"sourceRoot":""}