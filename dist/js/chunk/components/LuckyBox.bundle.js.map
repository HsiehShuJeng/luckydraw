{"version":3,"file":"chunk/components/LuckyBox.bundle.js?v=78e5cd8bc577f1817605","mappings":"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","sources":["webpack:///./components/LuckyBox/main.vue","webpack:///components/LuckyBox/main.vue","webpack:///./components/LuckyBox/main.vue?91f2","webpack:///./components/LuckyBox/main.vue?6824"],"sourcesContent":["var render = function render() {\n  var _vm = this,\n    _c = _vm._self._c\n  return _c(\n    \"div\",\n    {\n      ref: \"box\",\n      staticClass: \"modal lucky-modal\",\n      attrs: {\n        id: \"LuckyBox\",\n        tabindex: \"-1\",\n        role: \"dialog\",\n        \"data-backdrop\": \"static\",\n        \"data-keyboard\": \"false\",\n      },\n    },\n    [\n      _c(\"div\", { staticClass: \"modal-dialog\", attrs: { role: \"document\" } }, [\n        _c(\"div\", { staticClass: \"modal-content\" }, [\n          _vm._m(0),\n          _vm._v(\" \"),\n          _c(\"div\", { staticClass: \"modal-body\" }, [\n            _c(\n              \"div\",\n              { staticClass: \"text-center p-4 lucky-info\" },\n              [\n                _c(\"h4\", [_vm._v(\"恭喜中獎\")]),\n                _vm._v(\" \"),\n                _vm.focusCandidateInfo\n                  ? [\n                      _c(\"candidate-box\", {\n                        key: _vm.focusCandidateInfo.sn,\n                        attrs: {\n                          \"candidate-index\": 0,\n                          \"candidate-info\": _vm.focusCandidateInfo,\n                        },\n                      }),\n                    ]\n                  : [\n                      _vm._v(\n                        \"\\n                        無法對應\\n                    \"\n                      ),\n                    ],\n                _vm._v(\" \"),\n                _c(\"h5\", { staticClass: \"mt-4\" }, [\n                  _vm._v(\n                    \"\\n                        中獎獎項\\n                    \"\n                  ),\n                ]),\n                _vm._v(\" \"),\n                _c(\"div\", { staticClass: \"form-group\" }, [\n                  _c(\"div\", {\n                    staticClass: \"form-control text-center\",\n                    domProps: { textContent: _vm._s(_vm.focusPrizeInfo.title) },\n                  }),\n                ]),\n              ],\n              2\n            ),\n          ]),\n          _vm._v(\" \"),\n          _c(\"div\", { staticClass: \"modal-footer\" }, [\n            _c(\"div\", { staticClass: \"col-6 text-left\" }, [\n              _c(\n                \"button\",\n                {\n                  staticClass: \"btn btn-secondary cancel\",\n                  attrs: { type: \"button\", \"data-dismiss\": \"modal\" },\n                  on: { click: _vm.cancel },\n                },\n                [_vm._v(\"\\n                        取消\\n                    \")]\n              ),\n            ]),\n            _vm._v(\" \"),\n            _c(\"div\", { staticClass: \"col-6 text-right\" }, [\n              _c(\n                \"button\",\n                {\n                  staticClass: \"btn btn-primary save\",\n                  attrs: { type: \"button\" },\n                  on: { click: _vm.save },\n                },\n                [_vm._v(\"\\n                        確定\\n                    \")]\n              ),\n            ]),\n          ]),\n        ]),\n      ]),\n    ]\n  )\n}\nvar staticRenderFns = [\n  function () {\n    var _vm = this,\n      _c = _vm._self._c\n    return _c(\"div\", { staticClass: \"modal-header\" }, [\n      _c(\"h5\", { staticClass: \"modal-title\" }, [\n        _c(\"i\", { staticClass: \"fas fa-vote-yea\" }),\n        _vm._v(\"\\n                    恭喜中獎\\n                \"),\n      ]),\n    ])\n  },\n]\nrender._withStripped = true\n\nexport { render, staticRenderFns }","<template>\n    <div id=\"LuckyBox\" ref=\"box\" class=\"modal lucky-modal\"\n        tabindex=\"-1\"\n        role=\"dialog\"\n        data-backdrop=\"static\"\n        data-keyboard=\"false\"\n    >\n        <div class=\"modal-dialog\" role=\"document\">\n            <div class=\"modal-content\">\n                <div class=\"modal-header\">\n                    <h5 class=\"modal-title\">\n                        <i class=\"fas fa-vote-yea\"></i>\n                        恭喜中獎\n                    </h5>\n                </div>\n                <div class=\"modal-body\">\n                    <div class=\"text-center p-4 lucky-info\">\n                        <h4>恭喜中獎</h4>\n                        <template v-if=\"focusCandidateInfo\">\n                            <candidate-box\n                                :key=\"focusCandidateInfo.sn\"\n                                :candidate-index=\"0\"\n                                :candidate-info=\"focusCandidateInfo\"\n                            ></candidate-box>\n                        </template>\n                        <template v-else>\n                            無法對應\n                        </template>\n\n                        <h5 class=\"mt-4\">\n                            中獎獎項\n                        </h5>\n                        <div class=\"form-group\">\n                            <div class=\"form-control text-center\" v-text=\"focusPrizeInfo.title\"></div>\n                        </div>\n                    </div>\n                </div>\n                <div class=\"modal-footer\">\n                    <div class=\"col-6 text-left\">\n                        <button type=\"button\" class=\"btn btn-secondary cancel\" data-dismiss=\"modal\"\n                            @click=\"cancel\"\n                        >\n                            取消\n                        </button>\n                    </div>\n                    <div class=\"col-6 text-right\">\n                        <button type=\"button\" class=\"btn btn-primary save\" @click=\"save\">\n                            確定\n                        </button>\n                    </div>\n                </div>\n            </div>\n        </div>\n    </div>\n</template>\n<script>\nimport { trackJS } from 'lib/common/util';\nimport { mapActions, mapMutations, mapGetters } from 'vuex';\n\n// import $ from 'jquery';\n// import 'bootstrap';\n\n// import 'app';\n// import { string, jsVars, popup, trackJS, localStorage, ppPanel } from 'lib/common/util';\n\nexport default {\n    components: {\n        CandidateBox: () => import('components/CandidateBox/main.vue'),\n    },\n    filters: {},\n    props: {},\n    data(){\n        return {\n            award: '',\n        };\n    },\n    computed: {\n        ...mapGetters([\n            'triggerOpenLucky',\n            'focusPrizeSN',\n            'focusCandidateSN',\n            'prizeList',\n\n            'candidateMapping',\n            'prizeMapping',\n        ]),\n        focusCandidateInfo(){\n            return this.candidateMapping[this.focusCandidateSN] || false;\n        },\n        focusPrizeInfo(){\n            return this.prizeMapping[this.focusPrizeSN] || false;\n        },\n    },\n    watch: {\n        triggerOpenLucky: {\n            handler(){\n                const that = this;\n                $(that.$refs.box).modal('show');\n            },\n        },\n    },\n    created(){},\n    mounted(){\n        const that = this;\n        $(that.$refs.box).bind('shown.bs.modal', () => {\n            /**\n             * 得獎 icon\n             */\n            that.setFavicon('award');\n            trackJS.mixpanel('LuckyOpen_click', { candidate: that.focusCandidateInfo, prize: that.focusPrizeInfo });\n            trackJS.gtag('event', 'LuckyOpen_click', { candidate: that.focusCandidateInfo, prize: that.focusPrizeInfo });\n        });\n        $(that.$refs.box).bind('hidden.bs.modal', () => {\n            /**\n             * default icon\n             */\n            that.setFavicon('default');\n            trackJS.mixpanel('LuckyClose_click');\n            trackJS.gtag('event', 'LuckyClose_click');\n        });\n        $(that.$refs.box).modal('show');\n    },\n    updated(){},\n    destroyed(){},\n    methods: {\n        ...mapActions({}),\n        ...mapMutations({\n            setFavicon: 'setFavicon',\n            setFocusCandidateBindPrize: 'setFocusCandidateBindPrize',\n        }),\n        save(){\n            const that = this;\n            const params = {\n                prize_sn: that.focusPrizeSN,\n                candidate_sn: that.focusCandidateSN,\n            };\n            trackJS.mixpanel('LuckyConfirm_click', { candidate: that.focusCandidateInfo, prize: that.focusPrizeInfo });\n            trackJS.gtag('event', 'LuckyConfirm_click', { candidate: that.focusCandidateInfo, prize: that.focusPrizeInfo });\n            that.setFocusCandidateBindPrize(params);\n            $(that.$refs.box).modal('hide');\n        },\n        cancel(){\n            const that = this;\n            trackJS.mixpanel('LuckyCancel_click', { candidate: that.focusCandidateInfo, prize: that.focusPrizeInfo });\n            trackJS.gtag('event', 'LuckyCancel_click', { candidate: that.focusCandidateInfo, prize: that.focusPrizeInfo });\n        },\n    },\n};\n</script>\n<style lang=\"scss\" scoped>\n</style>","import mod from \"-!../../../../node_modules/babel-loader/lib/index.js!../../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./main.vue?vue&type=script&lang=js\"; export default mod; export * from \"-!../../../../node_modules/babel-loader/lib/index.js!../../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./main.vue?vue&type=script&lang=js\"","import { render, staticRenderFns } from \"./main.vue?vue&type=template&id=381313cc&scoped=true\"\nimport script from \"./main.vue?vue&type=script&lang=js\"\nexport * from \"./main.vue?vue&type=script&lang=js\"\n\n\n/* normalize component */\nimport normalizer from \"!../../../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  \"381313cc\",\n  null\n  \n)\n\nexport default component.exports"],"names":["render","_vm","this","_c","_self","ref","staticClass","attrs","id","tabindex","role","_m","_v","focusCandidateInfo","key","sn","domProps","textContent","_s","focusPrizeInfo","title","type","on","click","cancel","save","_withStripped","components","CandidateBox","filters","props","data","award","computed","mapGetters","candidateMapping","focusCandidateSN","prizeMapping","focusPrizeSN","watch","triggerOpenLucky","handler","$","$refs","box","modal","created","mounted","that","bind","setFavicon","trackJS","mixpanel","candidate","prize","gtag","updated","destroyed","methods","mapActions","mapMutations","setFocusCandidateBindPrize","params","prize_sn","candidate_sn"],"sourceRoot":""}