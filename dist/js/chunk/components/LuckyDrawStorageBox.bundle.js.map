{"version":3,"file":"chunk/components/LuckyDrawStorageBox.bundle.js?v=ba47b823fb7319681b1c","mappings":"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","sources":["webpack:///./components/LuckyDrawStorageBox/main.vue","webpack:///components/LuckyDrawStorageBox/main.vue","webpack:///./components/LuckyDrawStorageBox/main.vue?4b12","webpack:///./components/LuckyDrawStorageBox/main.vue?54dd"],"sourcesContent":["var render = function render() {\n  var _vm = this,\n    _c = _vm._self._c\n  return _c(\n    \"div\",\n    {\n      ref: \"box\",\n      staticClass: \"modal\",\n      attrs: {\n        tabindex: \"-1\",\n        role: \"dialog\",\n        \"data-backdrop\": \"static\",\n        \"data-keyboard\": \"false\",\n      },\n    },\n    [\n      _c(\"div\", { staticClass: \"modal-dialog\", attrs: { role: \"document\" } }, [\n        _c(\"div\", { staticClass: \"modal-content\" }, [\n          _vm._m(0),\n          _vm._v(\" \"),\n          _c(\n            \"div\",\n            { staticClass: \"modal-body\" },\n            [\n              _c(\"h6\", { staticClass: \"pb-2\" }, [\n                _vm._v(\n                  \"\\n                    發現你有建立過 \" +\n                    _vm._s(_vm.luckyDrawChooseList.length) +\n                    \" 個抽獎活動\\n                \"\n                ),\n              ]),\n              _vm._v(\" \"),\n              _c(\n                \"div\",\n                { staticClass: \"lucky-draw-choose-list\" },\n                [\n                  _vm._l(\n                    _vm.luckyDrawChooseList,\n                    function (luckyDrawChoose, luckyDrawChooseIndex) {\n                      return [\n                        _c(\n                          \"div\",\n                          {\n                            key: luckyDrawChooseIndex,\n                            staticClass: \"lucky-draw-choose-item mb-3\",\n                          },\n                          [\n                            _c(\n                              \"div\",\n                              {\n                                staticClass: \"lucky-draw-choose-text\",\n                                on: {\n                                  click: function ($event) {\n                                    return _vm.chooseLuckDraw(\n                                      luckyDrawChooseIndex\n                                    )\n                                  },\n                                },\n                              },\n                              [\n                                _vm._v(\n                                  \"\\n                                \" +\n                                    _vm._s(luckyDrawChoose.title) +\n                                    \"\\n                            \"\n                                ),\n                              ]\n                            ),\n                            _vm._v(\" \"),\n                            _c(\n                              \"div\",\n                              {\n                                staticClass: \"lucky-draw-choose-del\",\n                                on: {\n                                  click: function ($event) {\n                                    return _vm.removeLuckDraw(\n                                      luckyDrawChooseIndex\n                                    )\n                                  },\n                                },\n                              },\n                              [_c(\"i\", { staticClass: \"fas fa-trash-alt\" })]\n                            ),\n                          ]\n                        ),\n                      ]\n                    }\n                  ),\n                ],\n                2\n              ),\n              _vm._v(\" \"),\n              _c(\"h6\", { staticClass: \"pb-2\" }, [\n                _vm._v(\n                  \"\\n                    或建立一組新的抽獎活動\\n                \"\n                ),\n              ]),\n              _vm._v(\" \"),\n              _vm.createDefaultLuckyDrawFlag === false\n                ? [\n                    _c(\n                      \"button\",\n                      {\n                        staticClass: \"btn btn-warning btn-lg btn-block\",\n                        attrs: { type: \"button\" },\n                        on: {\n                          click: function ($event) {\n                            _vm.createDefaultLuckyDrawFlag = true\n                          },\n                        },\n                      },\n                      [\n                        _vm._v(\n                          \"\\n                        建立新抽獎活動\\n                    \"\n                        ),\n                      ]\n                    ),\n                  ]\n                : [\n                    _c(\n                      \"div\",\n                      { staticClass: \"input-group input-group-lg mb-3\" },\n                      [\n                        _vm._m(1),\n                        _vm._v(\" \"),\n                        _c(\"input\", {\n                          directives: [\n                            {\n                              name: \"model\",\n                              rawName: \"v-model\",\n                              value: _vm.LuckyDrawName,\n                              expression: \"LuckyDrawName\",\n                            },\n                          ],\n                          staticClass: \"form-control\",\n                          attrs: { type: \"text\", placeholder: \"活動名稱\" },\n                          domProps: { value: _vm.LuckyDrawName },\n                          on: {\n                            input: function ($event) {\n                              if ($event.target.composing) return\n                              _vm.LuckyDrawName = $event.target.value\n                            },\n                          },\n                        }),\n                        _vm._v(\" \"),\n                        _c(\"div\", { staticClass: \"input-group-append\" }, [\n                          _c(\n                            \"button\",\n                            {\n                              staticClass: \"btn btn-info\",\n                              attrs: { type: \"button\" },\n                              on: { click: _vm.create },\n                            },\n                            [\n                              _vm._v(\n                                \"\\n                                建立\\n                            \"\n                              ),\n                            ]\n                          ),\n                        ]),\n                      ]\n                    ),\n                  ],\n              _vm._v(\" \"),\n              _c(\"hr\"),\n              _vm._v(\" \"),\n              _c(\"google-support\"),\n            ],\n            2\n          ),\n        ]),\n      ]),\n    ]\n  )\n}\nvar staticRenderFns = [\n  function () {\n    var _vm = this,\n      _c = _vm._self._c\n    return _c(\"div\", { staticClass: \"modal-header\" }, [\n      _c(\"h5\", { staticClass: \"modal-title\" }, [\n        _c(\"i\", { staticClass: \"fas fa-box-open\" }),\n        _vm._v(\"\\n                    抽獎列表\\n                \"),\n      ]),\n    ])\n  },\n  function () {\n    var _vm = this,\n      _c = _vm._self._c\n    return _c(\"div\", { staticClass: \"input-group-prepend\" }, [\n      _c(\n        \"span\",\n        { staticClass: \"input-group-text\", attrs: { id: \"basic-addon2\" } },\n        [_vm._v(\"活動名稱\")]\n      ),\n    ])\n  },\n]\nrender._withStripped = true\n\nexport { render, staticRenderFns }","<template>\n    <div ref=\"box\" class=\"modal\" tabindex=\"-1\"\n        role=\"dialog\"\n        data-backdrop=\"static\"\n        data-keyboard=\"false\"\n    >\n        <div class=\"modal-dialog\" role=\"document\">\n            <div class=\"modal-content\">\n                <div class=\"modal-header\">\n                    <h5 class=\"modal-title\">\n                        <i class=\"fas fa-box-open\"></i>\n                        抽獎列表\n                    </h5>\n                </div>\n                <div class=\"modal-body\">\n                    <h6 class=\"pb-2\">\n                        發現你有建立過 {{ luckyDrawChooseList.length }} 個抽獎活動\n                    </h6>\n                    <div class=\"lucky-draw-choose-list\">\n                        <template v-for=\"(luckyDrawChoose, luckyDrawChooseIndex) in luckyDrawChooseList\">\n                            <div :key=\"luckyDrawChooseIndex\" class=\"lucky-draw-choose-item mb-3\">\n                                <div class=\"lucky-draw-choose-text\" @click=\"chooseLuckDraw(luckyDrawChooseIndex)\">\n                                    {{ luckyDrawChoose.title }}\n                                </div>\n                                <div class=\"lucky-draw-choose-del\" @click=\"removeLuckDraw(luckyDrawChooseIndex)\">\n                                    <i class=\"fas fa-trash-alt\"></i>\n                                </div>\n                            </div>\n                        </template>\n                    </div>\n\n                    <h6 class=\"pb-2\">\n                        或建立一組新的抽獎活動\n                    </h6>\n\n                    <template v-if=\"createDefaultLuckyDrawFlag === false\">\n                        <button\n                            type=\"button\"\n                            class=\"btn btn-warning btn-lg btn-block\"\n                            @click=\"createDefaultLuckyDrawFlag = true\"\n                        >\n                            建立新抽獎活動\n                        </button>\n                    </template>\n                    <template v-else>\n                        <div class=\"input-group input-group-lg mb-3\">\n                            <div class=\"input-group-prepend\">\n                                <span id=\"basic-addon2\" class=\"input-group-text\">活動名稱</span>\n                            </div>\n                            <input v-model=\"LuckyDrawName\"\n                                type=\"text\"\n                                class=\"form-control\"\n                                placeholder=\"活動名稱\"\n                            >\n                            <div class=\"input-group-append\">\n                                <button class=\"btn btn-info\" type=\"button\" @click=\"create\">\n                                    建立\n                                </button>\n                            </div>\n                        </div>\n                    </template>\n\n                    <hr>\n                    <google-support></google-support>\n                </div>\n            </div>\n        </div>\n    </div>\n</template>\n<script>\nimport { mapActions, mapMutations, mapGetters } from 'vuex';\n\nimport { popup, trackJS } from 'lib/common/util';\n// import $ from 'jquery';\n// import 'bootstrap';\n\n// import 'app';\n// import { string, jsVars, popup, trackJS, localStorage, ppPanel } from 'lib/common/util';\n\nexport default {\n    components: {\n        GoogleSupport: () => import('components/GoogleSupport/main.vue'),\n    },\n    filters: {},\n    props: {},\n    data(){\n        return {\n            createDefaultLuckyDrawFlag: false,\n            LuckyDrawName: '',\n        };\n    },\n    computed: {\n        ...mapGetters([\n            'luckyDrawChooseList',\n        ]),\n    },\n    watch: {\n        luckyDrawChooseList: {\n            deep: true,\n            immediate: true,\n            handler(){\n                if (this.luckyDrawChooseList.length > 0) {\n                    this.$nextTick(() => {\n                        $(this.$refs.box).modal('show');\n                    });\n                } else {\n                    $(this.$refs.box).modal('hide');\n                }\n            },\n        },\n    },\n    created(){},\n    mounted(){\n        const that = this;\n        $(that.$refs.box).bind('shown.bs.modal', () => {\n            trackJS.mixpanel('LuckyDrawStorageOpen_click');\n            trackJS.gtag('event', 'LuckyDrawStorageOpen_click');\n        });\n\n        $(that.$refs.box).bind('hidden.bs.modal', () => {\n            trackJS.mixpanel('LuckyDrawStorageClose_click');\n            trackJS.gtag('event', 'LuckyDrawStorageClose_click');\n        });\n    },\n    updated(){},\n    destroyed(){},\n    methods: {\n        ...mapActions({}),\n        ...mapMutations({\n            createDefaultLuckyDraw: 'createDefaultLuckyDraw',\n            chooseLuckDrawFromStorage: 'chooseLuckDrawFromStorage',\n            removeLuckDrawFromStorage: 'removeLuckDrawFromStorage',\n        }),\n        chooseLuckDraw(index){\n            const that = this;\n            const luckyDrawChoose = that.luckyDrawChooseList[index];\n            trackJS.mixpanel('LuckyDrawStorageActionChoose_click', luckyDrawChoose);\n            trackJS.gtag('event', 'LuckyDrawStorageActionChoose_click', luckyDrawChoose);\n            that.chooseLuckDrawFromStorage(luckyDrawChoose.key);\n        },\n        removeLuckDraw(index){\n            const that = this;\n            const luckyDrawChoose = that.luckyDrawChooseList[index];\n            popup.warning({\n                html: `你確定要刪除 ${luckyDrawChoose.title} 此筆抽獎嗎？<br><div class=\"text-danger\">刪除後將無法回復</div>`,\n            }, () => {\n                that.removeLuckDrawFromStorage(luckyDrawChoose.key);\n                trackJS.mixpanel('LuckyDrawStorageActionRemove_click', luckyDrawChoose);\n                trackJS.gtag('event', 'LuckyDrawStorageActionRemove_click', luckyDrawChoose);\n            });\n        },\n        create(){\n            const that = this;\n            const parmas = {\n                LuckyDrawName: that.LuckyDrawName,\n            };\n            that.createDefaultLuckyDraw(parmas);\n            trackJS.mixpanel('LuckyDrawStorageActionCreate_click', parmas);\n            trackJS.gtag('event', 'LuckyDrawStorageActionCreate_click', parmas);\n        },\n    },\n};\n</script>\n<style lang=\"scss\" scoped>\n</style>","import mod from \"-!../../../../node_modules/babel-loader/lib/index.js!../../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./main.vue?vue&type=script&lang=js\"; export default mod; export * from \"-!../../../../node_modules/babel-loader/lib/index.js!../../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./main.vue?vue&type=script&lang=js\"","import { render, staticRenderFns } from \"./main.vue?vue&type=template&id=0fad00c9&scoped=true\"\nimport script from \"./main.vue?vue&type=script&lang=js\"\nexport * from \"./main.vue?vue&type=script&lang=js\"\n\n\n/* normalize component */\nimport normalizer from \"!../../../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  \"0fad00c9\",\n  null\n  \n)\n\nexport default component.exports"],"names":["render","_vm","this","_c","_self","ref","staticClass","attrs","tabindex","role","_m","_v","_s","luckyDrawChooseList","length","_l","luckyDrawChoose","luckyDrawChooseIndex","key","on","click","$event","chooseLuckDraw","title","removeLuckDraw","createDefaultLuckyDrawFlag","type","directives","name","rawName","value","LuckyDrawName","expression","placeholder","domProps","input","target","composing","create","_withStripped","components","GoogleSupport","filters","props","data","computed","mapGetters","watch","deep","immediate","handler","$nextTick","$","$refs","box","modal","created","mounted","bind","trackJS","mixpanel","gtag","updated","destroyed","methods","mapActions","mapMutations","createDefaultLuckyDraw","chooseLuckDrawFromStorage","removeLuckDrawFromStorage","index","that","popup","warning","html","parmas","id"],"sourceRoot":""}